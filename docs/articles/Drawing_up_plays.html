<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="ggulti"><title>Drawing up plays with ggulti • ggulti</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Drawing up plays with ggulti"><meta property="og:description" content="ggulti"><meta property="og:image" content="https://swebb1.github.io/ggulti/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggulti</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Drawing_up_plays.html">Drawing up plays with ggulti</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Drawing up plays with ggulti</h1>
            
      
      
      <div class="d-none name"><code>Drawing_up_plays.Rmd</code></div>
    </div>

    
    
<div id="getting-started" class="section level2">
<h2>Getting Started</h2>
<p>Install ggulti from github with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;swebb1/ggulti&quot;</span>)</span></code></pre></div>
<p>Load the ggulti package:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(ggulti)</span></code></pre></div>
</div>
<div id="create-a-pitch" class="section level2">
<h2>Create a pitch</h2>
<p>Use the <code>ggpitch()</code> function to create a pitch. The
<code>type</code> argument specifies the type of pitch to create. The
<code>endzone_fill</code> argument specifies the color of the
endzone.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>pitch <span class="ot">=</span> <span class="fu">ggpitch</span>(<span class="at">type=</span><span class="st">&quot;half_attack&quot;</span>,<span class="at">endzone_fill =</span> <span class="st">&quot;#AA4422&quot;</span>)</span></code></pre></div>
<p>Pitch types</p>
<ul>
<li><p>“full” = Full pitch (default)</p></li>
<li><p>“half_attack” = Half a pitch showing attacking endzone
(up)</p></li>
<li><p>“half_defend” = Half a pitch showing defending endzone
(down)</p></li>
<li><p>“blank” = Lined out area. Useful for drills etc.</p></li>
<li><p>“void” = No pitch background.</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">ggpitch</span>()</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-4-1.png" width="576" /></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">ggpitch</span>(<span class="at">type =</span> <span class="st">&quot;half_attack&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;lightgreen&quot;</span>, <span class="at">alpha=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-5-1.png" width="576" /></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">ggpitch</span>(<span class="at">type =</span> <span class="st">&quot;half_defend&quot;</span>, <span class="at">endzone_fill =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-6-1.png" width="576" /></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">ggpitch</span>(<span class="at">type =</span> <span class="st">&quot;blank&quot;</span>, <span class="at">ymax =</span> <span class="dv">50</span>, <span class="at">xmax =</span> <span class="dv">30</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-7-1.png" width="576" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">ggpitch</span>(<span class="at">type =</span> <span class="st">&quot;void&quot;</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-8-1.png" width="576" /></p>
<p>The <code>ggpitch()</code> function returns a <em>ggplot</em> object
that can be customised further.</p>
</div>
<div id="pitch-objects" class="section level2">
<h2>Pitch objects</h2>
<p>Pitch objects are plotted as points and are typically players, discs
and cones. Use the <code>pitch_object()</code> function to create object
and their positions.</p>
<p>Let’s create a list of three offense players attacking the endzone
with the <code>pitch_object()</code> function:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>players <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;H1&quot;</span>, <span class="at">show =</span> T, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">5</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">75</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">frame =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>),</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;H2&quot;</span>, <span class="at">show =</span> T, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">20</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">75</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">frame =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>),</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;C1&quot;</span>, <span class="at">show =</span> T, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">18</span>,<span class="dv">14</span>,<span class="dv">5</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">83</span>,<span class="dv">83</span>,<span class="dv">98</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">frame =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>)</span></code></pre></div>
<p>In the code above, we have two stationary handlers (H1 and H2) and
one cutter (C1) making a cut along the front of the endzone and to the
back corner.</p>
<div id="what-are-frames" class="section level3">
<h3>What are frames?</h3>
<p>Frames are used to animate objects. In the code above, the
<code>frame</code> argument specifies the frames that the object is
visible. In this case, the objects are visible in frames 1, 2 and 3. H1
and H2 are stationary objects so only have single x and y coordinates.
C1 is a moving object so has multiple x and y coordinates for each
frame. The frame argument is optional and defaults to 1 (e.g. a single
image).</p>
<p>We can plot out our players on the pitch we created using the
<code>plot_play()</code> function. The default is to plot frame 1.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch, <span class="at">object_list =</span> players)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-10-1.png" width="576" /></p>
<p>We can also choose which frame to plot:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch, <span class="at">object_list =</span> players, <span class="at">static_frame =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-11-1.png" width="576" /></p>
<p>Or we can plot all frames and objects which might be useful when
creating our plots:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch, <span class="at">object_list =</span> players,<span class="at">show_all =</span> T)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-12-1.png" width="576" /></p>
</div>
<div id="other-object-types" class="section level3">
<h3>Other object types</h3>
<p>By default, the object type is set to “Offense”. The following object
types are recognised</p>
<ul>
<li><p>“Offense” = Green circle</p></li>
<li><p>“Defense” = Blue circle</p></li>
<li><p>“Coach” = Red circle</p></li>
<li><p>“Cone” = Orange triangle</p></li>
<li><p>“Disc” = Small grey circle</p></li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>random <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;Queue-here&quot;</span>, <span class="at">show =</span> T, <span class="at">object =</span> <span class="st">&quot;Cone&quot;</span>, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">5</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">75</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">frame =</span> <span class="dv">1</span>),</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;Pep&quot;</span>, <span class="at">show =</span> T, <span class="at">object =</span> <span class="st">&quot;Coach&quot;</span>, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">20</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">75</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">frame =</span> <span class="dv">1</span>),</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;disc&quot;</span>, <span class="at">show =</span> F, <span class="at">object =</span> <span class="st">&quot;Disc&quot;</span>, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">18</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">83</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">frame =</span> <span class="dv">1</span>),</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;D1&quot;</span>, <span class="at">show =</span> F, <span class="at">object =</span> <span class="st">&quot;Defense&quot;</span>, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">18</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">55</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">frame =</span> <span class="dv">1</span>)</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch, <span class="at">object_list =</span> random)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-13-1.png" width="576" /></p>
</div>
<div id="custom-objects" class="section level3">
<h3>Custom objects</h3>
<p>You can also add your own custom objects by specifying a different
<code>object</code> argument.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>custom <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;Ref&quot;</span>, <span class="at">show =</span> T, <span class="at">object =</span> <span class="st">&quot;Referee&quot;</span>, <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">18</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">55</span>), <span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">frame =</span> <span class="dv">1</span>)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>)</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch, <span class="at">object_list =</span> custom)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-14-1.png" width="576" /></p>
<p>By default the object will present as an offense object. You can
change the default options (colour, size, shape) in the
<code>plot_play()</code> function:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch, <span class="at">object_list =</span> custom, <span class="at">default_obj_col =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-15-1.png" width="576" /></p>
<p>Alternatively, you can use the <code>pv</code> argument to add a new
list of plotting values. The <code>ggulti_plot_values</code> object
gives access to default values:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>pv <span class="ot">&lt;-</span> ggulti_plot_values</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>pv<span class="sc">$</span>obj_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(pv<span class="sc">$</span>obj_cols,<span class="st">&quot;Referee&quot;</span> <span class="ot">=</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>pv<span class="sc">$</span>obj_shapes <span class="ot">&lt;-</span> <span class="fu">c</span>(pv<span class="sc">$</span>obj_shapes,<span class="st">&quot;Referee&quot;</span> <span class="ot">=</span> <span class="dv">18</span>)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>pv<span class="sc">$</span>obj_sizes <span class="ot">&lt;-</span> <span class="fu">c</span>(pv<span class="sc">$</span>obj_sizes,<span class="st">&quot;Referee&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch, <span class="at">object_list =</span> custom, <span class="at">pv =</span> pv)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-16-1.png" width="576" /></p>
<p>By customising objects, you can specifiy specific teams, genders or
even psoitions e.g.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>zone_positions <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Cup&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;Wing&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>, <span class="st">&quot;Mid&quot;</span> <span class="ot">=</span> <span class="st">&quot;purple&quot;</span>, <span class="st">&quot;Deep&quot;</span> <span class="ot">=</span> <span class="st">&quot;green&quot;</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>pv <span class="ot">&lt;-</span> ggulti_plot_values</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>pv<span class="sc">$</span>obj_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(ggulti_plot_values<span class="sc">$</span>obj_cols, zone_positions)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>zone <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;C1&quot;</span>, <span class="at">show=</span>T, <span class="at">object =</span> <span class="st">&quot;Cup&quot;</span>, <span class="at">x=</span><span class="fu">c</span>(<span class="dv">14</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="dv">25</span>)),</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;C2&quot;</span>, <span class="at">show=</span>T, <span class="at">object =</span> <span class="st">&quot;Cup&quot;</span>, <span class="at">x=</span><span class="fu">c</span>(<span class="dv">18</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="dv">28</span>)),</span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;C3&quot;</span>, <span class="at">show=</span>T, <span class="at">object =</span> <span class="st">&quot;Cup&quot;</span>, <span class="at">x=</span><span class="fu">c</span>(<span class="dv">22</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="dv">25</span>)),</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;W1&quot;</span>, <span class="at">show=</span>T, <span class="at">object =</span> <span class="st">&quot;Wing&quot;</span>, <span class="at">x=</span><span class="fu">c</span>(<span class="dv">10</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="dv">40</span>)),</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;W2&quot;</span>, <span class="at">show=</span>T, <span class="at">object =</span> <span class="st">&quot;Wing&quot;</span>, <span class="at">x=</span><span class="fu">c</span>(<span class="dv">27</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="dv">40</span>)),</span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;Mid&quot;</span>, <span class="at">show=</span>T, <span class="at">object =</span> <span class="st">&quot;Mid&quot;</span>, <span class="at">x=</span><span class="fu">c</span>(<span class="dv">18</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="dv">38</span>), <span class="at">label_pos =</span> <span class="st">&quot;up&quot;</span>),</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a>  <span class="fu">pitch_object</span>(<span class="at">label =</span> <span class="st">&quot;Deep&quot;</span>, <span class="at">show=</span>T, <span class="at">object =</span> <span class="st">&quot;Deep&quot;</span>, <span class="at">x=</span><span class="fu">c</span>(<span class="dv">18</span>), <span class="at">y=</span><span class="fu">c</span>(<span class="dv">60</span>))</span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a>)</span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> <span class="fu">ggpitch</span>(<span class="at">endzone_fill=</span><span class="st">&quot;darkgrey&quot;</span>),<span class="at">object_list =</span> zone,<span class="at">pv=</span>pv)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-17-1.png" width="576" /></p>
</div>
</div>
<div id="add-defenders" class="section level2">
<h2>Add defenders</h2>
<p>Let’s return to our original set of three offense players attacking
the endzone. We would like to add a defender to each player.</p>
<p>We can add defenders using the <code>pitch_object()</code> function
and specifying the object type as “Defense”. We can also use the
<code>defender()</code> function to add defenders to existing players.
Defenders are objects that follow another object through frames. You can
set their position relative to the object using the <code>xjust</code>
and <code>yjust</code> arguments.</p>
<p>Defenders inherit defaults from their player (frame,alpha, show). The
default for <code>xjust</code> and <code>yjust</code> is -1. This means
the defender will be placed 1 unit to the left and 1 unit below the
object, or slightly under on the backhand side. You can use single
values for the offsets or a value for each frame.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="do">## Add defenders to players</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>defenders <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>  <span class="fu">defender</span>(<span class="at">player =</span> players[[<span class="dv">1</span>]],<span class="at">label =</span> <span class="st">&quot;D1&quot;</span>, <span class="at">show =</span> T, <span class="at">xjust =</span> <span class="fu">c</span>(<span class="dv">2</span>), <span class="at">yjust =</span> <span class="fu">c</span>(<span class="dv">2</span>)),</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>  <span class="fu">defender</span>(<span class="at">player =</span> players[[<span class="dv">2</span>]],<span class="at">label =</span> <span class="st">&quot;D2&quot;</span>, <span class="at">show =</span> T, <span class="at">xjust =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>), <span class="at">yjust =</span> <span class="fu">c</span>(<span class="dv">2</span>)),</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>  <span class="fu">defender</span>(<span class="at">player =</span> players[[<span class="dv">3</span>]],<span class="at">label =</span> <span class="st">&quot;D3&quot;</span>, <span class="at">show =</span> T, <span class="at">xjust =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>,<span class="sc">-</span><span class="dv">3</span>,<span class="dv">3</span>), <span class="at">yjust =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">5</span>))</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>)</span></code></pre></div>
<p>Let’s now combine our players and defenders into a single list:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="do">## Join players and defenders</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>player_list <span class="ot">&lt;-</span> <span class="fu">c</span>(players,defenders)</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch,<span class="at">object_list =</span> player_list, <span class="at">keep_arrows =</span> T, <span class="at">static_frame =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-19-1.png" width="576" /></p>
</div>
<div id="pitch-arrows" class="section level2">
<h2>Pitch arrows</h2>
<p>Pitch arrows can be added in a similar way to objects using the
<code>pitch_arrow()</code> function. However, arrows are typically used
to represent player movements or throws between two players.</p>
<div id="throws" class="section level3">
<h3>Throws</h3>
<p>We can create a list of throws using the <code>throw()</code>
function. This function requires an object_list containing objects
(e.g. players) to throw <code>to</code> and <code>from</code>. The start
and end points of a throw are determined by the involved players
positions in a specific <code>throwing_frame</code>.</p>
<p>The <code>to</code> argument can also be set to “space” for a throw
into empty space. In this case <code>space_x</code> and
<code>space_y</code> are required to specify the target location.</p>
<p>You can also specify an <code>arrow_shape</code> to show straight or
curved throws:</p>
<ul>
<li><p>“straight” = Straight arrow (default)</p></li>
<li><p>“fhrc or bhio” = Right curved arrow</p></li>
<li><p>“bhrc or fhio” = Left curved arrow</p></li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="do">## Add throws between players</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>throws <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>  <span class="fu">throw</span>(<span class="at">object_list =</span> player_list, <span class="at">label =</span> <span class="st">&quot;T1&quot;</span>, <span class="at">show =</span> F,<span class="at">from =</span> <span class="st">&quot;H1&quot;</span>,<span class="at">to =</span> <span class="st">&quot;C1&quot;</span>,<span class="at">frame =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">throw_frame =</span> <span class="dv">3</span>, <span class="at">arrow_shape =</span> <span class="st">&quot;bhrc&quot;</span>)</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="player-paths" class="section level3">
<h3>Player paths</h3>
<p>You can also add arrows to represent object movements (e.g. player
cuts) using the <code>object_paths()</code> function. This function
requires an object_list containing objects (e.g. players) to plot paths
for. The <code>objects</code> argument specifies the object types to
plot paths for. By default this is set to “Offense” to only plot paths
for Offense player objects.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>paths <span class="ot">&lt;-</span>  <span class="fu">object_paths</span>(player_list) <span class="do">## Add arrows in front of running players</span></span></code></pre></div>
<p>Now we can add our throws and paths to create a list of arrows:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="do">## Create arrow list</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>arrow_list <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>  paths,</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>  throws</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="adding-a-disc" class="section level2">
<h2>Adding a disc</h2>
<p>We can add discs to our graphics with the <code>pitch_object()</code>
function using <code>object="Disc"</code> and specifying the coordinates
and frames. Alternatively we can use the <code>disc()</code> function to
create a disc that follows a specific throw. This function requires a
<code>pitch_arrow</code> object to trace. The <code>release_frame</code>
argument specifies the frame where the disc is thrown.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="do">## Add a disc</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a>disc_list <span class="ot">=</span> <span class="fu">list</span>(</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a>  <span class="fu">disc</span>(<span class="at">throw =</span> throws[[<span class="dv">1</span>]],<span class="at">label =</span> <span class="st">&quot;disc&quot;</span>,<span class="at">show =</span> F,<span class="at">frame =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="at">release_frame =</span> <span class="dv">3</span>)</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a>)</span></code></pre></div>
<p>The disc should be added to our list of pitch objects:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="do">## Create object list</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>object_list <span class="ot">=</span> <span class="fu">c</span>(player_list,disc_list)</span></code></pre></div>
</div>
<div id="plotting-the-play" class="section level2">
<h2>Plotting the play</h2>
<p>We now have objects and arrows representing players, defenders, cuts,
throws and a disc. We can plot the play using the
<code>plot_play()</code> function:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch,<span class="at">object_list =</span> object_list,<span class="at">arrow_list =</span> arrow_list,<span class="at">keep_arrows =</span> T,<span class="at">static_frame =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-25-1.png" width="576" /></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch,<span class="at">object_list =</span> object_list,<span class="at">arrow_list =</span> arrow_list,<span class="at">keep_arrows =</span> T,<span class="at">static_frame =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-26-1.png" width="576" /></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch,<span class="at">object_list =</span> object_list,<span class="at">arrow_list =</span> arrow_list,<span class="at">keep_arrows =</span> T,<span class="at">static_frame =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-27-1.png" width="576" /></p>
</div>
<div id="animating-the-play" class="section level2">
<h2>Animating the play</h2>
<p>The big advantage of setting up plays with frames is that we can
create animations. We can animate the play by setting the
<code>animate = T</code> argument. Animations use <code>gganimate</code>
with transition_states. The speed of the animation can be controlled
with the <code>transition_time</code> and <code>state_time</code>
arguments.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch,<span class="at">object_list =</span> object_list,<span class="at">arrow_list =</span> arrow_list,<span class="at">keep_arrows =</span> T,<span class="at">animate =</span> T,<span class="at">transition_length =</span> <span class="dv">1</span>,<span class="at">state_length =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-28-1.gif" /><!-- --></p>
</div>
<div id="further-customisation" class="section level2">
<h2>Further customisation</h2>
<p>Because the <code>plot_play</code> function returns a ggplot object,
we can further customise the plot using ggplot2 functions. For example,
we can add a title and change the theme:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch,<span class="at">object_list =</span> object_list,<span class="at">arrow_list =</span> arrow_list,<span class="at">keep_arrows =</span> T,<span class="at">static_frame =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Back of the zone!&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">18</span>, <span class="at">y =</span> <span class="dv">94</span>, <span class="at">label =</span> <span class="st">&quot;Score!&quot;</span>), <span class="at">size =</span> <span class="dv">7</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-29-1.png" width="576" /></p>
<p>For more control over animations, you can save the
<code>plot_play()</code> output and run <a
href="https://gganimate.com/index.html"><code>gganimate</code></a>
yourself.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="fu">library</span>(gifski)</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">plot_play</span>(<span class="at">pitch =</span> pitch,<span class="at">object_list =</span> object_list,<span class="at">arrow_list =</span> arrow_list,<span class="at">show_all =</span> T)</span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a>ap <span class="ot">&lt;-</span> p <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="fu">transition_states</span>(<span class="at">states =</span> <span class="fu">factor</span>(frame, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>), <span class="at">transition_length =</span> <span class="fl">0.5</span>, <span class="at">state_length =</span> <span class="fl">0.5</span>, <span class="at">wrap=</span>F) <span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a>  <span class="fu">shadow_mark</span>(<span class="at">size =</span> <span class="dv">0</span>, <span class="at">colour =</span> <span class="st">&#39;grey&#39;</span>) <span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a>  <span class="fu">enter_fade</span>()</span>
<span id="cb30-10"><a href="#cb30-10" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" tabindex="-1"></a><span class="fu">animate</span>(ap, <span class="at">renderer =</span> <span class="fu">gifski_renderer</span>())</span></code></pre></div>
<p><img src="/Users/shaun/Documents/Work/RStudio/ggulti/vignettes/.unnamed-chunk-30-1.gif" /><!-- --></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>
